# Configuration for dev/docker-compose-n8n.yml
DOMAIN_NAME=localhost
SSL_EMAIL=admin@localhost
GENERIC_TIMEZONE=UTC
SUBDOMAIN=n8n

# LLM Provider Base URLs
ARCHESTRA_OPENAI_BASE_URL=https://api.openai.com/v1
ARCHESTRA_ANTHROPIC_BASE_URL=https://api.anthropic.com
ARCHESTRA_GEMINI_BASE_URL=https://generativelanguage.googleapis.com
# Cohere Base URL (uses https://api.cohere.ai by default)
ARCHESTRA_COHERE_BASE_URL=https://api.cohere.ai
# Ollama Base URL (uncomment if using Ollama)
# ARCHESTRA_OLLAMA_BASE_URL=http://localhost:11434/v1
# vLLM Base URL (uncomment if using vLLM)
# ARCHESTRA_VLLM_BASE_URL=http://localhost:8000/v1
# Zhipuai Base URL (optional - defaults to https://api.z.ai/api/paas/v4)
# ARCHESTRA_ZHIPUAI_BASE_URL=https://api.z.ai/api/paas/v4
# Mistral Base URL (optional - defaults to https://api.mistral.ai/v1)
# ARCHESTRA_MISTRAL_BASE_URL=https://api.mistral.ai/v1
# Perplexity Base URL (optional - defaults to https://api.perplexity.ai)
# ARCHESTRA_PERPLEXITY_BASE_URL=https://api.perplexity.ai
# Groq Base URL (optional - defaults to https://api.groq.com/openai/v1)
# ARCHESTRA_GROQ_BASE_URL=https://api.groq.com/openai/v1

# NOTE: use the following base URLs for testing w/ local wiremock service for e2e tests
# (see dev/Tiltfile.test)
# ARCHESTRA_OPENAI_BASE_URL=http://localhost:9092/openai/v1
# ARCHESTRA_ANTHROPIC_BASE_URL=http://localhost:9092/anthropic
# ARCHESTRA_GEMINI_BASE_URL=http://localhost:9092/gemini
# ARCHESTRA_VLLM_BASE_URL=http://localhost:9092/vllm/v1
# ARCHESTRA_OLLAMA_BASE_URL=http://localhost:9092/ollama/v1
# ARCHESTRA_CEREBRAS_BASE_URL=http://localhost:9092/cerebras/v1
# ARCHESTRA_ZHIPUAI_BASE_URL=http://localhost:9092/zhipuai/v4
# ARCHESTRA_COHERE_BASE_URL=http://localhost:9092/cohere
# ARCHESTRA_MISTRAL_BASE_URL=http://localhost:9092/mistral
# ARCHESTRA_BEDROCK_BASE_URL=http://localhost:9092/bedrock
# ARCHESTRA_PERPLEXITY_BASE_URL=http://localhost:9092/perplexity
# ARCHESTRA_GROQ_BASE_URL=http://localhost:9092/groq/v1

# Public MCP catalog URL.
# If you are making changes to the MCP catalog, point it to the port the archestra-ai/website listens on.
# ARCHESTRA_MCP_CATALOG_API_BASE_URL=http://localhost:3001/mcp-catalog/api

# Database URL
ARCHESTRA_DATABASE_URL="postgresql://archestra:archestra_dev_password@localhost:5432/archestra_dev?schema=public"

# OpenTelemetry Configuration
# OTEL Exporter endpoint for sending traces (defaults to http://localhost:4318/v1/traces)
ARCHESTRA_OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces
# OTEL Authentication - Basic auth credentials (both required if using basic auth)
ARCHESTRA_OTEL_EXPORTER_OTLP_AUTH_USERNAME=""
ARCHESTRA_OTEL_EXPORTER_OTLP_AUTH_PASSWORD=""
# OTEL Authentication - Bearer token (takes precedence over basic auth if provided)
ARCHESTRA_OTEL_EXPORTER_OTLP_AUTH_BEARER=""

# Bearer token for /metrics endpoint (port 9050). If set, update dev/prometheus.yml with matching token.
ARCHESTRA_METRICS_SECRET=""

# Sentry Configuration
# Sentry DSN for backend error tracking (leave empty to disable)
ARCHESTRA_SENTRY_BACKEND_DSN=""
# Environment identifier for Sentry
ARCHESTRA_SENTRY_ENVIRONMENT=""
# Sentry DSN for frontend error tracking (leave empty to disable)
NEXT_PUBLIC_ARCHESTRA_SENTRY_FRONTEND_DSN=""

# External API Base URL - Public URL for connecting to LLM Proxy, MCP Gateway, and A2A Gateway from outside the cluster
# Displayed in UI connection instructions only. Does not affect internal routing.
# Supports comma-separated list for multiple URLs (e.g., internal K8s URL, external ingress)
# Example single: https://api.archestra.com
# Example multiple: http://archestra.default.svc:9000,https://api.archestra.example.com
ARCHESTRA_API_BASE_URL=

# Optional, defaults to "http://localhost:9000". Internal URL where the frontend connects to the backend API server
ARCHESTRA_INTERNAL_API_BASE_URL="http://localhost:9000"

# Optional for local dev
# Frontend URL - The URL where users access the frontend
ARCHESTRA_FRONTEND_URL=http://localhost:3000

# Optional for local dev
# Cookie Domain - Required if different domains or subdomains for frontend and backend are used
# Should be set to the domain of the ARCHESTRA_FRONTEND_URL, e.g. "example.com"
ARCHESTRA_AUTH_COOKIE_DOMAIN=""

# Analytics configuration for PostHog
ARCHESTRA_ANALYTICS=

# Auth
# IMPORTANT: Set ARCHESTRA_AUTH_SECRET to a secure, random value in production.
# Example: openssl rand -base64 32
ARCHESTRA_AUTH_SECRET=
ARCHESTRA_AUTH_ADMIN_EMAIL=admin@example.com
ARCHESTRA_AUTH_ADMIN_PASSWORD=password

# Feature Flags
# FEATURES_XYZ_ENABLED=false

# Kubernetes Configuration for MCP Server Runtime

# Whether to load kubeconfig from current cluster (set to "true" when running inside K8s)
ARCHESTRA_ORCHESTRATOR_LOAD_KUBECONFIG_FROM_CURRENT_CLUSTER=false
# Path to kubeconfig file (optional if running inside K8s cluster or using default ~/.kube/config)
ARCHESTRA_ORCHESTRATOR_KUBECONFIG=
# Kubernetes namespace for MCP server pods (defaults to "default")
ARCHESTRA_ORCHESTRATOR_K8S_NAMESPACE=default
# Base image for MCP server containers
# ARCHESTRA_ORCHESTRATOR_MCP_SERVER_BASE_IMAGE=europe-west1-docker.pkg.dev/friendly-path-465518-r6/archestra-public/mcp-server-base:1.0.33

# Logging
ARCHESTRA_LOGGING_LEVEL=info
ARCHESTRA_BROWSER_STREAM_LOG_SCREENSHOTS=false
ARCHESTRA_BROWSER_STREAM_LOG_TAB_SYNC=false


# Enterprise license toggle
ARCHESTRA_ENTERPRISE_LICENSE_ACTIVATED=true

# Disable email/password login
ARCHESTRA_AUTH_DISABLE_BASIC_AUTH=false

# Disable user invitations (hides invitation UI and blocks invitation API endpoints)
ARCHESTRA_AUTH_DISABLE_INVITATIONS=false

# SSO Trusted Origins - JSON array of additional trusted origins for SSO authentication
# Required for SAML SSO: browsers send Origin: null for cross-origin form POSTs
# Example: '["null"]' for SAML, or '["null", "https://idp.example.com"]' for multiple origins
ARCHESTRA_AUTH_SSO_TRUSTED_ORIGINS=

# Secrets Manager Configuration
# ARCHESTRA_SECRETS_MANAGER: "DB" (default), "Vault", or "READONLY_VAULT"
# - DB: Stores secrets directly in PostgreSQL database
# - Vault: Stores secrets in HashiCorp Vault (requires enterprise license)
# - READONLY_VAULT: Allows teams to use external Vault folders for secrets (requires enterprise license)
ARCHESTRA_SECRETS_MANAGER=DB

# HashiCorp Vault Configuration (required when ARCHESTRA_SECRETS_MANAGER=Vault)
ARCHESTRA_HASHICORP_VAULT_ADDR=http://localhost:8200
# Authentication method: "TOKEN" (default), "K8S", or "AWS"
ARCHESTRA_HASHICORP_VAULT_AUTH_METHOD=TOKEN

# Vault Token Authentication (ARCHESTRA_HASHICORP_VAULT_AUTH_METHOD=TOKEN)
ARCHESTRA_HASHICORP_VAULT_TOKEN=dev-root-token

# Vault Kubernetes Authentication (ARCHESTRA_HASHICORP_VAULT_AUTH_METHOD=K8S)
# Role bound to the K8s service account (required for K8S auth)
ARCHESTRA_HASHICORP_VAULT_K8S_ROLE=
# Path to service account token (default: /var/run/secrets/kubernetes.io/serviceaccount/token)
ARCHESTRA_HASHICORP_VAULT_K8S_TOKEN_PATH=
# Vault K8s auth mount point (default: kubernetes)
ARCHESTRA_HASHICORP_VAULT_K8S_MOUNT_POINT=

# Vault AWS IAM Authentication (ARCHESTRA_HASHICORP_VAULT_AUTH_METHOD=AWS)
# Role bound to the AWS IAM principal (required for AWS auth)
ARCHESTRA_HASHICORP_VAULT_AWS_ROLE=
# Vault AWS auth mount point (default: aws)
ARCHESTRA_HASHICORP_VAULT_AWS_MOUNT_POINT=
# AWS region for STS signing (default: us-east-1)
ARCHESTRA_HASHICORP_VAULT_AWS_REGION=
# STS endpoint URL (default: https://sts.amazonaws.com)
ARCHESTRA_HASHICORP_VAULT_AWS_STS_ENDPOINT=
# Value for X-Vault-AWS-IAM-Server-ID header (optional, additional security)
ARCHESTRA_HASHICORP_VAULT_AWS_IAM_SERVER_ID=

# Incoming Email Configuration
# Allows external users to invoke agents by sending emails
# See docs: /docs/platform-agents#incoming-email
# Provider: "outlook" (or leave empty to disable)
ARCHESTRA_AGENTS_INCOMING_EMAIL_PROVIDER=
# Azure AD tenant ID for Microsoft Graph API
ARCHESTRA_AGENTS_INCOMING_EMAIL_OUTLOOK_TENANT_ID=
# Azure AD application (client) ID
ARCHESTRA_AGENTS_INCOMING_EMAIL_OUTLOOK_CLIENT_ID=
# Azure AD application client secret (keep secure)
ARCHESTRA_AGENTS_INCOMING_EMAIL_OUTLOOK_CLIENT_SECRET=
# Email address of the mailbox to monitor (e.g., agents@yourcompany.com)
ARCHESTRA_AGENTS_INCOMING_EMAIL_OUTLOOK_MAILBOX_ADDRESS=
# Override email domain for agent addresses (optional, defaults to mailbox domain)
ARCHESTRA_AGENTS_INCOMING_EMAIL_OUTLOOK_EMAIL_DOMAIN=
# Public webhook URL for Microsoft Graph notifications (optional)
# If set, subscription is created automatically on server startup
ARCHESTRA_AGENTS_INCOMING_EMAIL_OUTLOOK_WEBHOOK_URL=

# Slack integration configuration
# "true" to enable integration
ARCHESTRA_CHATOPS_SLACK_ENABLED=
# Connection mode: "socket" (default, no public URL needed) or "webhook" (requires public URL)
ARCHESTRA_CHATOPS_SLACK_CONNECTION_MODE=
# Bot User OAuth Token (xoxb-...)
ARCHESTRA_CHATOPS_SLACK_BOT_TOKEN=
# Signing Secret (required for webhook mode)
ARCHESTRA_CHATOPS_SLACK_SIGNING_SECRET=
# App-Level Token (required for socket mode, xapp-...)
ARCHESTRA_CHATOPS_SLACK_APP_LEVEL_TOKEN=
# Slack App ID
ARCHESTRA_CHATOPS_SLACK_APP_ID=

# MS Teams integration configuration
# "true" to enable integration
ARCHESTRA_CHATOPS_MS_TEAMS_ENABLED=
# Your Microsoft App ID
ARCHESTRA_CHATOPS_MS_TEAMS_APP_ID=
# Client Secret
ARCHESTRA_CHATOPS_MS_TEAMS_APP_SECRET=
# Azure AD Tenant ID
ARCHESTRA_CHATOPS_MS_TEAMS_TENANT_ID=

# Optional - for thread history (requires Graph API permissions)
# Falls back to Bot credentials above if not set (works when using same App Registration)
# Only set these if you need separate credentials for Graph API
# ARCHESTRA_CHATOPS_MS_TEAMS_GRAPH_TENANT_ID=
# ARCHESTRA_CHATOPS_MS_TEAMS_GRAPH_CLIENT_ID=
# ARCHESTRA_CHATOPS_MS_TEAMS_GRAPH_CLIENT_SECRET=

# Knowledge Graph Configuration
# Automatically ingests documents uploaded via chat into a knowledge graph
# See docs: /docs/platform-knowledge-graphs
# Provider: "lightrag" (or leave empty to disable)
ARCHESTRA_KNOWLEDGE_GRAPH_PROVIDER=
# URL of the LightRAG API server (required when provider=lightrag)
ARCHESTRA_KNOWLEDGE_GRAPH_LIGHTRAG_API_URL=http://localhost:9621
# API key for LightRAG authentication (optional)
ARCHESTRA_KNOWLEDGE_GRAPH_LIGHTRAG_API_KEY=

# LightRAG Server Configuration (files in dev/lightrag/)
# These configure the LightRAG server itself, not the Archestra integration above
# 1. Start local storage: tilt trigger lightrag-storage
# 2. Start LightRAG server: tilt trigger lightrag-server
# 3. Seed data: node dev/lightrag/seed_via_api.mjs
# Neo4j graph storage (local defaults - uses host.docker.internal for Docker networking)
OPENAI_API_KEY=your-api-key-here
LIGHTRAG_NEO4J_URI=bolt://host.docker.internal:7687
LIGHTRAG_NEO4J_USERNAME=neo4j
LIGHTRAG_NEO4J_PASSWORD=password123
# Qdrant vector storage (local defaults - uses host.docker.internal for Docker networking)
LIGHTRAG_QDRANT_URL=http://host.docker.internal:6333
LIGHTRAG_QDRANT_API_KEY=
# LLM and embedding models (uses OPENAI_API_KEY from above)
LIGHTRAG_LLM_MODEL=gpt-4o-mini
LIGHTRAG_EMBEDDING_MODEL=text-embedding-3-small
LIGHTRAG_EMBEDDING_DIM=1536
 

 # Quickstart mode
ARCHESTRA_QUICKSTART=false
